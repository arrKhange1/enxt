<section class="saved-reports">
  <header>Saved Reports</header>
  <mat-accordion
    class="saved-reports__list"
    cdkDropList
    #savedReportsList="cdkDropList"
    [cdkDropListData]="savedReports"
    (cdkDropListDropped)="drop($event)"
    [cdkDropListEnterPredicate]="savedReportsEnteredPredicate"
    multi
  >
    @for (row of savedReports; track row; let index = $index) {
      <mat-expansion-panel cdkDrag cdkDragDisabled hideToggle>
        <mat-expansion-panel-header class="list__item-header">
            <span>Prefix: {{ row.fWB_Details.AWB_Prefix }}</span>
            <span>Serial Nr: {{ row.fWB_Details.AWB_Serial }}</span>
        </mat-expansion-panel-header>
        <section class="content">
          <app-fwb-detail-card [fwbDetails]="row.fWB_Details" />
          @if (row.agent_Details) {
            <app-agent-detail-card [agentDetails]="row.agent_Details" />
          }
          <app-consignee-detail-card [consigneeDetails]="row.consignee_Details" />
          <app-shipper-detail-card [shipperDetails]="row.shipper_Details" />
        </section>
      </mat-expansion-panel>
    }
  </mat-accordion>
</section>


